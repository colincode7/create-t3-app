<!-- Global Metadata -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<meta name="generator" content={Astro.generator} />

<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="alternate icon" type="image/x-icon" href="/favicon.ico" />
<link rel="sitemap" href="/sitemap.xml" />

<!-- Scrollable a11y code helper -->
<script is:inline>
  const preTags = document.querySelectorAll("pre");
  Array.from(preTags).forEach((element) => {
    element.setAttribute("tabindex", "0");
  });
</script>

<!-- This is intentionally inlined to avoid FOUC -->
<script is:inline>
  const root = document.documentElement;
  const theme = localStorage.getItem("theme");

  root.classList.remove("dark");
  root.classList.remove("light");

  if (window.location.pathname === "/") {
    root.classList.add("dark");
  } else {
    if (
      theme === "dark" ||
      (!theme && window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      root.classList.add("dark");
    } else {
      root.classList.add("light");
    }
  }
</script>
